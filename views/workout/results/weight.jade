mixin single-weight(set, units)
  - reps = set.metrics.reps
  - weight = set.metrics.weight
  span !{set.label}
  .input-append.pull-right
    input.input-mini(name="weight", data-order = set.order, type="number", min="1", max="1000", value=weight.value)
    .btn-group
      button.btn.units(type="button") !{weight.units}
      select.units(name="units", data-metric="weight", data-order = set.order, style="opacity:0;width:0px;height:0px;position:absolute")
        for unit in units
          option(value=unit, selected = unit === weight.units ? 'select' : null) !{unit}
  .clear
  .pull-right
    label(for="reps") reps
    input.reps.input-mini(data-order = set.order, name="reps", type="number", min="0", max=reps.value, value=reps.value)

table.results.table.table-bordered.table-striped.table-condensed
  tbody
    for set in sets
      tr
        td.set
          mixin single-weight(set, units)